<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing games</title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            max-width: 100vw;
            overflow-x: hidden;
        }
        body 
        {
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #ffffff;
            color: #000000;
            font-family: monospace;
            min-height: 100vh;
        }

        header{
            position: sticky;
            top: 0;
            width: 100%;
            z-index: 3;
            background-color: #1D2659;
        }
        nav{
            position: relative;
            top: 0;
            font-size: 35px;
            height: 50px;
            background-color: #1D2659;
        }
        nav > ul{
            list-style-type: none;
            color: white;
            display: flex;
            flex-direction: row;
            gap: 50px;
            justify-content: flex-end;
            align-items: flex-start;
            padding-right: 20px;
        }
        nav > ul > li > a{
            text-decoration: none;
            color: inherit;
        }
        #DropDown{
            background-color: #2E3C8C;
            position: absolute;
            top: 100%;
            z-index: 4;
            padding: 10px 0;
            display: none;
        }
        #DropDown > a {
            display: block;
            padding: 10px 20px;
            color: white;
            text-decoration: none;
        }

        #DropDown > a:hover{
          background-color: #283477;
        }

        .Game{
            height: 500px;
            display: flex;
            flex-direction: row;
            padding: 20px 0;
            box-sizing: border-box;
            background-color: #DFE5F2;
            align-items: center;
            width: 100%;
        }
        #Name{
            background-color: white;
            display: flex;
            flex: 1;
            text-align: center;
            height: 100%;
            font-size: 125px;
        }
        #Picture{
            display: flex;
            flex: 1;
            background-color: white;
            height: 100%;
        }
        #Picture > img{
            width: 100%;
            height: 50%;
            align-self: center;
            border: 5px black;
            border-style: solid;
            border-radius: 10px;
            z-index: 2;
        }

        #Side{
            background-color: white;
            flex: 1;
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        #Play{
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: end;
        }
        #Play > button{
            width: 250px;
            height: 60px;
            background-color: #4E63D9;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
        }
        #Info{
            flex: 1;
            display: flex;
            align-items: start;
            font-size: 30px;
            text-align: center;
            margin: 10px;
        }

        #InfoDiv{
          display: none;
          background-color: #DFE5F2;
          width: 100%;
          height: 500px;
          padding-left: 20px;
        }

        #IdeasDiv{
          display: none;
          background-color: #DFE5F2;
          width: 100%;
          margin-top: 112.5px;
          height: 670px;
          flex-direction: column;
          font-size: 50px;
        }
        #IdeasDiv > form > div{
          height: 75px;
          width: 100%;
          border: 2px white;
          border-style: solid;
          display: flex;
          align-items: center;
        }
        .Buttons{
          height: 80%;
          width: auto;
          font-size: 50px;
          background-color: white;
          border-radius: 5px;
          margin-left: 10px;
        }
        .Buttons:hover{
          cursor: pointer;
        }
        #TextInput{
          height: 350px !important;
        }
        #TextInput > textarea{
          height: 100%;
          width: 100%;
          font-size: 25px;
        }

        #ContactCheck > input{
          width: 50px;
          height: 50px;
          margin-left: 10px;
        }
        .Contacts{
          display: none;
          width: calc(100vw / 3 - 80px);
          height: 50px;
          margin-left: 10px;
          font-size: 20px;
          line-height: 50px;
        }
        #Instruction{
          display: none;
          color: #6C5666;
          font-size: 20px;
          position: absolute;
          right: 10px;
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="Main.html">home</a></li>
                <li><a href="#" onclick="DropDownFunction(event)">games</a> <div id = DropDown></div></li>
                <li><a href="#" onclick="ShowInfo()">info</a></li>
                <li><a href="#" onclick="ShowIdeas()">ideas</a></li>
            </ul>
        </nav>
    </header>

    <div id = "InfoDiv">
      <h1>
        The info page
      </h1>
    </div>

    <div id = "IdeasDiv">
      <form>
      <div id = "Subject"><button class="Buttons" onclick="IdeaSubjects(this, 1, event)">Bug report</button><button class="Buttons" onclick="IdeaSubjects(this, 1, event)">Improvment idea</button><button class="Buttons" onclick="IdeaSubjects(this, 2, event)">Game idea</button></div>
      <div id = "GameName" style="padding-left: 10px;">Related game or page 
        <select name="pages" class="Buttons" aria-placeholder="choose one">
          <option value="MainMenu">Main menu</option> <option value="Tower">Tower game </option> <option value="Combo">Combo game</option> <option value="Other">Other</option>
        </select>
        <textarea placeholder="game name" class="Buttons" style="display: none;"></textarea>
      </div>
      <div id = "TextInput"> <textarea name="TextInput" placeholder="Type here"></textarea></div>
      <div id = "ContactCheck" style="padding-left: 10px;">Would you like to be contacted about your idea?<input type="checkbox" onchange="ContactCheckBox(this.checked)"> <label id="Instruction">Fill in at least one contact option</label></div>
      <div id = "ContactInfo">
        <textarea placeholder="email" class="Contacts"></textarea> <textarea placeholder="phone number" class="Contacts"></textarea> <textarea placeholder="discord" class="Contacts"></textarea>
        <button type="submit" class="Buttons" >Submit</button> 
      </div>
      </form>
    </div>

    <script>
      const games = [
      {
        name: "Tower",
        description: "- Type words to build your tower",
        image: "GameVisuals/Tower.png",
        link: "Tower.html"
      },
      {
        name: "Combo",
        description: "- you just type the prepared sentences, try not to make any mistakes",
        image: "GameVisuals/Tower.png",
        link: "Combo.html"
      },
      {
        name: "Scrambles",
        description: "- a game where  you have to unscramble words, the least fun one yet",
        image: "GameVisuals/Scrambles.png",
        link: "Scrambles.html"
      },
      {
        name: "Reaction",
        description: "- You have to press the correct buttons fast",
        image: "GameVisuals/Tower.png",
        link: "Reaction.html"
      }
    ];

    const DropDown = document.getElementById('DropDown');

    function DropDownFunction(e){
      e.preventDefault();
      DropDown.style.display = DropDown.style.display === 'block' ? 'none' : 'block';
    }

    games.forEach(game => {
      const gameDiv = document.createElement('div');
      gameDiv.className = "Game";
      gameDiv.id = game.name;
      gameDiv.innerHTML = `
          <div id="Name">${game.name} game</div>

          <div id="Picture">
            <img src="${game.image}">
          </div>

          <div id="Side">
            <div id="Play">
              <button onclick="window.location.href='${game.link}'">PLAY</button>
            </div>
            <div id="Info">${game.description}</div>
          </div>
        `;
      document.body.appendChild(gameDiv);

      const link = document.createElement('a');
      link.textContent = game.name;
      link.href = "#";
      link.onclick = () => {
        scrollFunction(game.name);
        DropDown.style.display = 'none';
      }
      DropDown.appendChild(link);
    });

    function scrollFunction(id) {
      const el = document.getElementById(id);
      if (!el) return;

      GamesToHide.forEach(game => {
        game.style.display = 'flex';
      });
      InfoDiv.style.display = "none";
      IdeasDiv.style.display = 'none';

      const viewportHeight = window.innerHeight;
      const elementTop = el.getBoundingClientRect().top + window.scrollY;
      const scrollPos = elementTop - viewportHeight / 2 + el.offsetHeight / 2;

      window.scrollTo({
        top: scrollPos,
        behavior: 'smooth'
      });
    }

    let GamesToHide = document.querySelectorAll('.Game');
    let InfoDiv = document.getElementById('InfoDiv');
    let IdeasDiv = document.getElementById('IdeasDiv');

    function ShowInfo(){
      GamesToHide.forEach(game => {
        game.style.display = 'none';
      });
      IdeasDiv.style.display = 'none';
      InfoDiv.style.display = 'flex';
    }



    function ShowIdeas(){
      GamesToHide.forEach(game =>{
        game.style.display = 'none';
      })
      InfoDiv.style.display = 'none';
      IdeasDiv.style.display = "flex";
    }

    const Contacts = document.querySelectorAll('.Contacts');
    const Instruction = document.getElementById('Instruction');
    function ContactCheckBox(state){
      if (state){
        Contacts.forEach(Contact => {
          Contact.style.display = 'block';
        })
        Instruction.style.display = 'block';
      } else
      {
        Contacts.forEach(Contact => {
          Contact.style.display = 'none';
        })
        Instruction.style.display = 'none';
      }
    }

    const GameName = document.getElementById('GameName')
    let OldSelecion;
    function IdeaSubjects(button, which, e){
      e.preventDefault();
      if (OldSelecion == button){
        return;
      }
      button.style.backgroundColor = '#2D6A61';
      if (OldSelecion){
        OldSelecion.style.backgroundColor = "White";
      }
      OldSelecion = button;

      if (which == 2){
        GameName.textContent = "Your game's name";
        GameName.querySelector("textarea").style.display = 'block';
        GameName.querySelector("select").style.display = 'none';
      } else{
        GameName.textContent = "Related game or page";
        GameName.querySelector("textarea").style.display = 'none';
        GameName.querySelector("select").style.display = 'inline-block';
      }
    }
    </script>
</body>
</html>